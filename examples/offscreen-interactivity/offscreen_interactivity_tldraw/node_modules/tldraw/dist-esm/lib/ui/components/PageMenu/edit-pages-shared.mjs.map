{
  "version": 3,
  "sources": ["../../../../../src/lib/ui/components/PageMenu/edit-pages-shared.ts"],
  "sourcesContent": ["import {\n\tEditor,\n\tgetIndexAbove,\n\tgetIndexBelow,\n\tgetIndexBetween,\n\tIndexKey,\n\tTLPageId,\n} from '@tldraw/editor'\nimport { TLUiEventContextType } from '../../context/events'\n\nexport const onMovePage = (\n\teditor: Editor,\n\tid: TLPageId,\n\tfrom: number,\n\tto: number,\n\ttrackEvent: TLUiEventContextType\n) => {\n\tlet index: IndexKey\n\n\tconst pages = editor.getPages()\n\n\tconst below = from > to ? pages[to - 1] : pages[to]\n\tconst above = from > to ? pages[to] : pages[to + 1]\n\n\tif (below && !above) {\n\t\tindex = getIndexAbove(below.index)\n\t} else if (!below && above) {\n\t\tindex = getIndexBelow(pages[0].index)\n\t} else {\n\t\tindex = getIndexBetween(below.index, above.index)\n\t}\n\n\tif (index !== pages[from].index) {\n\t\teditor.markHistoryStoppingPoint('moving page')\n\t\teditor.updatePage({\n\t\t\tid: id as TLPageId,\n\t\t\tindex,\n\t\t})\n\t\ttrackEvent('move-page', { source: 'page-menu' })\n\t}\n}\n"],
  "mappings": "AAAA;AAAA,EAEC;AAAA,EACA;AAAA,EACA;AAAA,OAGM;AAGA,MAAM,aAAa,CACzB,QACA,IACA,MACA,IACA,eACI;AACJ,MAAI;AAEJ,QAAM,QAAQ,OAAO,SAAS;AAE9B,QAAM,QAAQ,OAAO,KAAK,MAAM,KAAK,CAAC,IAAI,MAAM,EAAE;AAClD,QAAM,QAAQ,OAAO,KAAK,MAAM,EAAE,IAAI,MAAM,KAAK,CAAC;AAElD,MAAI,SAAS,CAAC,OAAO;AACpB,YAAQ,cAAc,MAAM,KAAK;AAAA,EAClC,WAAW,CAAC,SAAS,OAAO;AAC3B,YAAQ,cAAc,MAAM,CAAC,EAAE,KAAK;AAAA,EACrC,OAAO;AACN,YAAQ,gBAAgB,MAAM,OAAO,MAAM,KAAK;AAAA,EACjD;AAEA,MAAI,UAAU,MAAM,IAAI,EAAE,OAAO;AAChC,WAAO,yBAAyB,aAAa;AAC7C,WAAO,WAAW;AAAA,MACjB;AAAA,MACA;AAAA,IACD,CAAC;AACD,eAAW,aAAa,EAAE,QAAQ,YAAY,CAAC;AAAA,EAChD;AACD;",
  "names": []
}
