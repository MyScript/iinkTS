var Se=(p=>(p.uninitialized="uninitialized",p.pending="pending",p.fulfilled="fulfilled",p.rejected="rejected",p))(Se||{});function Be(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}import{createAction as L,createSlice as J,createSelector as Pe,createAsyncThunk as Ae,combineReducers as ve,createNextState as se,isAnyOf as G,isAllOf as pe,isAction as Ce,isPending as ce,isRejected as ee,isFulfilled as O,isRejectedWithValue as te,isAsyncThunkAction as De,prepareAutoBatched as ne,SHOULD_AUTOBATCH as Y,isPlainObject as V,nanoid as le}from"@reduxjs/toolkit";var we=V;function fe(e,n){if(e===n||!(we(e)&&we(n)||Array.isArray(e)&&Array.isArray(n)))return n;let l=Object.keys(n),R=Object.keys(e),p=l.length===R.length,x=Array.isArray(n)?[]:{};for(let A of l)x[A]=fe(e[A],n[A]),p&&(p=e[A]===x[A]);return p?e:x}function U(e){let n=0;for(let l in e)n++;return n}var be=e=>[].concat(...e);function Fe(e){return new RegExp("(^|:)//").test(e)}function Ie(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function X(e){return e!=null}function Oe(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var ct=e=>e.replace(/\/$/,""),lt=e=>e.replace(/^\//,"");function qe(e,n){if(!e)return n;if(!n)return e;if(Fe(n))return n;let l=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=ct(e),n=lt(n),`${e}${l}${n}`}function Ne(e,n,l){return e.has(n)?e.get(n):e.set(n,l).get(n)}var Ke=(...e)=>fetch(...e),ft=e=>e.status>=200&&e.status<=299,mt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ue(e){if(!V(e))return e;let n={...e};for(let[l,R]of Object.entries(n))R===void 0&&delete n[l];return n}function gt({baseUrl:e,prepareHeaders:n=c=>c,fetchFn:l=Ke,paramsSerializer:R,isJsonContentType:p=mt,jsonContentType:x="application/json",jsonReplacer:A,timeout:M,responseHandler:k,validateStatus:Q,...D}={}){return typeof fetch>"u"&&l===Ke&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(o,r,g)=>{let{getState:a,extra:d,endpoint:y,forced:t,type:m}=r,h,{url:S,headers:T=new Headers(D.headers),params:i=void 0,responseHandler:f=k??"json",validateStatus:s=Q??ft,timeout:u=M,...E}=typeof o=="string"?{url:o}:o,b,B=r.signal;u&&(b=new AbortController,r.signal.addEventListener("abort",b.abort),B=b.signal);let P={...D,signal:B,...E};T=new Headers(Ue(T)),P.headers=await n(T,{getState:a,arg:o,extra:d,endpoint:y,forced:t,type:m,extraOptions:g})||T;let v=F=>typeof F=="object"&&(V(F)||Array.isArray(F)||typeof F.toJSON=="function");if(!P.headers.has("content-type")&&v(P.body)&&P.headers.set("content-type",x),v(P.body)&&p(P.headers)&&(P.body=JSON.stringify(P.body,A)),i){let F=~S.indexOf("?")?"&":"?",$=R?R(i):new URLSearchParams(Ue(i));S+=F+$}S=qe(e,S);let w=new Request(S,P);h={request:new Request(S,P)};let C,q=!1,N=b&&setTimeout(()=>{q=!0,b.abort()},u);try{C=await l(w)}catch(F){return{error:{status:q?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(F)},meta:h}}finally{N&&clearTimeout(N),b?.signal.removeEventListener("abort",b.abort)}let ae=C.clone();h.response=ae;let K,I="";try{let F;if(await Promise.all([c(C,f).then($=>K=$,$=>F=$),ae.text().then($=>I=$,()=>{})]),F)throw F}catch(F){return{error:{status:"PARSING_ERROR",originalStatus:C.status,data:I,error:String(F)},meta:h}}return s(C,K)?{data:K,meta:h}:{error:{status:C.status,data:K},meta:h}};async function c(o,r){if(typeof r=="function")return r(o);if(r==="content-type"&&(r=p(o.headers)?"json":"text"),r==="json"){let g=await o.text();return g.length?JSON.parse(g):null}return o.text()}}var j=class{constructor(n,l=void 0){this.value=n;this.meta=l}};async function Tt(e=0,n=5){let l=Math.min(e,n),R=~~((Math.random()+.4)*(300<<l));await new Promise(p=>setTimeout(x=>p(x),R))}function ht(e,n){throw Object.assign(new j({error:e,meta:n}),{throwImmediately:!0})}var je={},Qt=(e,n)=>async(l,R,p)=>{let x=[5,(n||je).maxRetries,(p||je).maxRetries].filter(D=>D!==void 0),[A]=x.slice(-1),k={maxRetries:A,backoff:Tt,retryCondition:(D,c,{attempt:o})=>o<=A,...n,...p},Q=0;for(;;)try{let D=await e(l,R,p);if(D.error)throw new j(D);return D}catch(D){if(Q++,D.throwImmediately){if(D instanceof j)return D.value;throw D}if(D instanceof j&&!k.retryCondition(D.value.error,l,{attempt:Q,baseQueryApi:R,extraOptions:p}))return D.value;await k.backoff(Q,k.maxRetries)}},Rt=Object.assign(Qt,{fail:ht});var z=L("__rtkq/focused"),re=L("__rtkq/unfocused"),W=L("__rtkq/online"),ie=L("__rtkq/offline"),Ee=!1;function xt(e,n){function l(){let R=()=>e(z()),p=()=>e(re()),x=()=>e(W()),A=()=>e(ie()),M=()=>{window.document.visibilityState==="visible"?R():p()};return Ee||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",M,!1),window.addEventListener("focus",R,!1),window.addEventListener("online",x,!1),window.addEventListener("offline",A,!1),Ee=!0),()=>{window.removeEventListener("focus",R),window.removeEventListener("visibilitychange",M),window.removeEventListener("online",x),window.removeEventListener("offline",A),Ee=!1}}return n?n(e,{onFocus:z,onFocusLost:re,onOffline:ie,onOnline:W}):l()}function ge(e){return e.type==="query"}function Le(e){return e.type==="mutation"}function ue(e,n,l,R,p,x){return St(e)?e(n,l,R,p).filter(X).map(me).map(x):Array.isArray(e)?e.map(me).map(x):[]}function St(e){return typeof e=="function"}function me(e){return typeof e=="string"?{type:e}:e}import{isDraftable as At,produceWithPatches as Dt}from"immer";import"@reduxjs/toolkit";function He(e,n){return e.catch(n)}var oe=Symbol("forceQueryFn"),ye=e=>typeof e[oe]=="function";function _e({serializeQueryArgs:e,queryThunk:n,mutationThunk:l,api:R,context:p}){let x=new Map,A=new Map,{unsubscribeQueryResult:M,removeMutationResult:k,updateSubscriptionOptions:Q}=R.internalActions;return{buildInitiateQuery:a,buildInitiateMutation:d,getRunningQueryThunk:D,getRunningMutationThunk:c,getRunningQueriesThunk:o,getRunningMutationsThunk:r};function D(y,t){return m=>{let h=p.endpointDefinitions[y],S=e({queryArgs:t,endpointDefinition:h,endpointName:y});return x.get(m)?.[S]}}function c(y,t){return m=>A.get(m)?.[t]}function o(){return y=>Object.values(x.get(y)||{}).filter(X)}function r(){return y=>Object.values(A.get(y)||{}).filter(X)}function g(y){}function a(y,t){let m=(h,{subscribe:S=!0,forceRefetch:T,subscriptionOptions:i,[oe]:f,...s}={})=>(u,E)=>{let b=e({queryArgs:h,endpointDefinition:t,endpointName:y}),B=n({...s,type:"query",subscribe:S,forceRefetch:T,subscriptionOptions:i,endpointName:y,originalArgs:h,queryCacheKey:b,[oe]:f}),P=R.endpoints[y].select(h),v=u(B),w=P(E());let{requestId:_,abort:C}=v,q=w.requestId!==_,N=x.get(u)?.[b],ae=()=>P(E()),K=Object.assign(f?v.then(ae):q&&!N?Promise.resolve(w):Promise.all([N,v]).then(ae),{arg:h,requestId:_,subscriptionOptions:i,queryCacheKey:b,abort:C,async unwrap(){let I=await K;if(I.isError)throw I.error;return I.data},refetch:()=>u(m(h,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&u(M({queryCacheKey:b,requestId:_}))},updateSubscriptionOptions(I){K.subscriptionOptions=I,u(Q({endpointName:y,requestId:_,queryCacheKey:b,options:I}))}});if(!N&&!q&&!f){let I=Ne(x,u,{});I[b]=K,K.then(()=>{delete I[b],U(I)||x.delete(u)})}return K};return m}function d(y){return(t,{track:m=!0,fixedCacheKey:h}={})=>(S,T)=>{let i=l({type:"mutation",endpointName:y,originalArgs:t,track:m,fixedCacheKey:h}),f=S(i);let{requestId:s,abort:u,unwrap:E}=f,b=He(f.unwrap().then(w=>({data:w})),w=>({error:w})),B=()=>{S(k({requestId:s,fixedCacheKey:h}))},P=Object.assign(b,{arg:f.arg,requestId:s,abort:u,unwrap:E,reset:B}),v=A.get(S)||{};return A.set(S,v),v[s]=P,P.then(()=>{delete v[s],U(v)||A.delete(S)}),h&&(v[h]=P,P.then(()=>{v[h]===P&&(delete v[h],U(v)||A.delete(S))})),P}}}function Ve(e){return e}function ze({reducerPath:e,baseQuery:n,context:{endpointDefinitions:l},serializeQueryArgs:R,api:p,assertTagType:x}){let A=(t,m,h,S)=>(T,i)=>{let f=l[t],s=R({queryArgs:m,endpointDefinition:f,endpointName:t});if(T(p.internalActions.queryResultPatched({queryCacheKey:s,patches:h})),!S)return;let u=p.endpoints[t].select(m)(i()),E=ue(f.providesTags,u.data,void 0,m,{},x);T(p.internalActions.updateProvidedBy({queryCacheKey:s,providedTags:E}))},M=(t,m,h,S=!0)=>(T,i)=>{let s=p.endpoints[t].select(m)(i()),u={patches:[],inversePatches:[],undo:()=>T(p.util.patchQueryData(t,m,u.inversePatches,S))};if(s.status==="uninitialized")return u;let E;if("data"in s)if(At(s.data)){let[b,B,P]=Dt(s.data,h);u.patches.push(...B),u.inversePatches.push(...P),E=b}else E=h(s.data),u.patches.push({op:"replace",path:[],value:E}),u.inversePatches.push({op:"replace",path:[],value:s.data});return u.patches.length===0||T(p.util.patchQueryData(t,m,u.patches,S)),u},k=(t,m,h)=>S=>S(p.endpoints[t].initiate(m,{subscribe:!1,forceRefetch:!0,[oe]:()=>({data:h})})),Q=async(t,{signal:m,abort:h,rejectWithValue:S,fulfillWithValue:T,dispatch:i,getState:f,extra:s})=>{let u=l[t.endpointName];try{let E=Ve,b,B={signal:m,abort:h,dispatch:i,getState:f,extra:s,endpoint:t.endpointName,type:t.type,forced:t.type==="query"?D(t,f()):void 0,queryCacheKey:t.type==="query"?t.queryCacheKey:void 0},P=t.type==="query"?t[oe]:void 0;if(P?b=P():u.query?(b=await n(u.query(t.originalArgs),B,u.extraOptions),u.transformResponse&&(E=u.transformResponse)):b=await u.queryFn(t.originalArgs,B,u.extraOptions,v=>n(v,B,u.extraOptions)),typeof process<"u",b.error)throw new j(b.error,b.meta);return T(await E(b.data,b.meta,t.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:b.meta,[Y]:!0})}catch(E){let b=E;if(b instanceof j){let B=Ve;u.query&&u.transformErrorResponse&&(B=u.transformErrorResponse);try{return S(await B(b.value,b.meta,t.originalArgs),{baseQueryMeta:b.meta,[Y]:!0})}catch(P){b=P}}throw typeof process<"u",console.error(b),b}};function D(t,m){let h=m[e]?.queries?.[t.queryCacheKey],S=m[e]?.config.refetchOnMountOrArgChange,T=h?.fulfilledTimeStamp,i=t.forceRefetch??(t.subscribe&&S);return i?i===!0||(Number(new Date)-Number(T))/1e3>=i:!1}let c=Ae(`${e}/executeQuery`,Q,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Y]:!0}},condition(t,{getState:m}){let h=m(),S=h[e]?.queries?.[t.queryCacheKey],T=S?.fulfilledTimeStamp,i=t.originalArgs,f=S?.originalArgs,s=l[t.endpointName];return ye(t)?!0:S?.status==="pending"?!1:D(t,h)||ge(s)&&s?.forceRefetch?.({currentArg:i,previousArg:f,endpointState:S,state:h})?!0:!T},dispatchConditionRejection:!0}),o=Ae(`${e}/executeMutation`,Q,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Y]:!0}}}),r=t=>"force"in t,g=t=>"ifOlderThan"in t,a=(t,m,h)=>(S,T)=>{let i=r(h)&&h.force,f=g(h)&&h.ifOlderThan,s=(E=!0)=>{let b={forceRefetch:E,isPrefetch:!0};return p.endpoints[t].initiate(m,b)},u=p.endpoints[t].select(m)(T());if(i)S(s());else if(f){let E=u?.fulfilledTimeStamp;if(!E){S(s());return}(Number(new Date)-Number(new Date(E)))/1e3>=f&&S(s())}else S(s(!1))};function d(t){return m=>m?.meta?.arg?.endpointName===t}function y(t,m){return{matchPending:pe(ce(t),d(m)),matchFulfilled:pe(O(t),d(m)),matchRejected:pe(ee(t),d(m))}}return{queryThunk:c,mutationThunk:o,prefetch:a,updateQueryData:M,upsertQueryData:k,patchQueryData:A,buildMatchThunkActions:y}}function Te(e,n,l,R){return ue(l[e.meta.arg.endpointName][n],O(e)?e.payload:void 0,te(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,R)}import{isDraft as bt}from"immer";import{applyPatches as We,original as Et}from"immer";function he(e,n,l){let R=e[n];R&&l(R)}function Z(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function $e(e,n,l){let R=e[Z(n)];R&&l(R)}var de={};function Je({reducerPath:e,queryThunk:n,mutationThunk:l,serializeQueryArgs:R,context:{endpointDefinitions:p,apiUid:x,extractRehydrationInfo:A,hasRehydrationInfo:M},assertTagType:k,config:Q}){let D=L(`${e}/resetApiState`);function c(T,i,f,s){T[i.queryCacheKey]??={status:"uninitialized",endpointName:i.endpointName},he(T,i.queryCacheKey,u=>{u.status="pending",u.requestId=f&&u.requestId?u.requestId:s.requestId,i.originalArgs!==void 0&&(u.originalArgs=i.originalArgs),u.startedTimeStamp=s.startedTimeStamp})}function o(T,i,f){he(T,i.arg.queryCacheKey,s=>{if(s.requestId!==i.requestId&&!ye(i.arg))return;let{merge:u}=p[i.arg.endpointName];if(s.status="fulfilled",u)if(s.data!==void 0){let{fulfilledTimeStamp:E,arg:b,baseQueryMeta:B,requestId:P}=i,v=se(s.data,w=>u(w,f,{arg:b.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:E,requestId:P}));s.data=v}else s.data=f;else s.data=p[i.arg.endpointName].structuralSharing??!0?fe(bt(s.data)?Et(s.data):s.data,f):f;delete s.error,s.fulfilledTimeStamp=i.fulfilledTimeStamp})}let r=J({name:`${e}/queries`,initialState:de,reducers:{removeQueryResult:{reducer(T,{payload:{queryCacheKey:i}}){delete T[i]},prepare:ne()},cacheEntriesUpserted:{reducer(T,i){for(let f of i.payload){let{queryDescription:s,value:u}=f;c(T,s,!0,{arg:s,requestId:i.meta.requestId,startedTimeStamp:i.meta.timestamp}),o(T,{arg:s,requestId:i.meta.requestId,fulfilledTimeStamp:i.meta.timestamp,baseQueryMeta:{}},u)}},prepare:T=>({payload:T.map(s=>{let{endpointName:u,arg:E,value:b}=s,B=p[u];return{queryDescription:{type:"query",endpointName:u,originalArgs:s.arg,queryCacheKey:R({queryArgs:E,endpointDefinition:B,endpointName:u})},value:b}}),meta:{[Y]:!0,requestId:le(),timestamp:Date.now()}})},queryResultPatched:{reducer(T,{payload:{queryCacheKey:i,patches:f}}){he(T,i,s=>{s.data=We(s.data,f.concat())})},prepare:ne()}},extraReducers(T){T.addCase(n.pending,(i,{meta:f,meta:{arg:s}})=>{let u=ye(s);c(i,s,u,f)}).addCase(n.fulfilled,(i,{meta:f,payload:s})=>{o(i,f,s)}).addCase(n.rejected,(i,{meta:{condition:f,arg:s,requestId:u},error:E,payload:b})=>{he(i,s.queryCacheKey,B=>{if(!f){if(B.requestId!==u)return;B.status="rejected",B.error=b??E}})}).addMatcher(M,(i,f)=>{let{queries:s}=A(f);for(let[u,E]of Object.entries(s))(E?.status==="fulfilled"||E?.status==="rejected")&&(i[u]=E)})}}),g=J({name:`${e}/mutations`,initialState:de,reducers:{removeMutationResult:{reducer(T,{payload:i}){let f=Z(i);f in T&&delete T[f]},prepare:ne()}},extraReducers(T){T.addCase(l.pending,(i,{meta:f,meta:{requestId:s,arg:u,startedTimeStamp:E}})=>{u.track&&(i[Z(f)]={requestId:s,status:"pending",endpointName:u.endpointName,startedTimeStamp:E})}).addCase(l.fulfilled,(i,{payload:f,meta:s})=>{s.arg.track&&$e(i,s,u=>{u.requestId===s.requestId&&(u.status="fulfilled",u.data=f,u.fulfilledTimeStamp=s.fulfilledTimeStamp)})}).addCase(l.rejected,(i,{payload:f,error:s,meta:u})=>{u.arg.track&&$e(i,u,E=>{E.requestId===u.requestId&&(E.status="rejected",E.error=f??s)})}).addMatcher(M,(i,f)=>{let{mutations:s}=A(f);for(let[u,E]of Object.entries(s))(E?.status==="fulfilled"||E?.status==="rejected")&&u!==E?.requestId&&(i[u]=E)})}}),a=J({name:`${e}/invalidation`,initialState:de,reducers:{updateProvidedBy:{reducer(T,i){let{queryCacheKey:f,providedTags:s}=i.payload;for(let u of Object.values(T))for(let E of Object.values(u)){let b=E.indexOf(f);b!==-1&&E.splice(b,1)}for(let{type:u,id:E}of s){let b=(T[u]??={})[E||"__internal_without_id"]??=[];b.includes(f)||b.push(f)}},prepare:ne()}},extraReducers(T){T.addCase(r.actions.removeQueryResult,(i,{payload:{queryCacheKey:f}})=>{for(let s of Object.values(i))for(let u of Object.values(s)){let E=u.indexOf(f);E!==-1&&u.splice(E,1)}}).addMatcher(M,(i,f)=>{let{provided:s}=A(f);for(let[u,E]of Object.entries(s))for(let[b,B]of Object.entries(E)){let P=(i[u]??={})[b||"__internal_without_id"]??=[];for(let v of B)P.includes(v)||P.push(v)}}).addMatcher(G(O(n),te(n)),(i,f)=>{let s=Te(f,"providesTags",p,k),{queryCacheKey:u}=f.meta.arg;a.caseReducers.updateProvidedBy(i,a.actions.updateProvidedBy({queryCacheKey:u,providedTags:s}))})}}),d=J({name:`${e}/subscriptions`,initialState:de,reducers:{updateSubscriptionOptions(T,i){},unsubscribeQueryResult(T,i){},internal_getRTKQSubscriptions(){}}}),y=J({name:`${e}/internalSubscriptions`,initialState:de,reducers:{subscriptionsUpdated:{reducer(T,i){return We(T,i.payload)},prepare:ne()}}}),t=J({name:`${e}/config`,initialState:{online:Oe(),focused:Ie(),middlewareRegistered:!1,...Q},reducers:{middlewareRegistered(T,{payload:i}){T.middlewareRegistered=T.middlewareRegistered==="conflict"||x!==i?"conflict":!0}},extraReducers:T=>{T.addCase(W,i=>{i.online=!0}).addCase(ie,i=>{i.online=!1}).addCase(z,i=>{i.focused=!0}).addCase(re,i=>{i.focused=!1}).addMatcher(M,i=>({...i}))}}),m=ve({queries:r.reducer,mutations:g.reducer,provided:a.reducer,subscriptions:y.reducer,config:t.reducer}),h=(T,i)=>m(D.match(i)?void 0:T,i),S={...t.actions,...r.actions,...d.actions,...y.actions,...g.actions,...a.actions,resetApiState:D};return{reducer:h,actions:S}}var Qe=Symbol.for("RTKQ/skipToken"),Xe={status:"uninitialized"},Ge=se(Xe,()=>{}),Ye=se(Xe,()=>{});function Ze({serializeQueryArgs:e,reducerPath:n,createSelector:l}){let R=c=>Ge,p=c=>Ye;return{buildQuerySelector:M,buildMutationSelector:k,selectInvalidatedBy:Q,selectCachedArgsForQuery:D};function x(c){return{...c,...Be(c.status)}}function A(c){return c[n]}function M(c,o){return r=>{if(r===Qe)return l(R,x);let g=e({queryArgs:r,endpointDefinition:o,endpointName:c});return l(d=>A(d)?.queries?.[g]??Ge,x)}}function k(){return c=>{let o;return typeof c=="object"?o=Z(c)??Qe:o=c,l(o===Qe?p:a=>A(a)?.mutations?.[o]??Ye,x)}}function Q(c,o){let r=c[n],g=new Set;for(let a of o.filter(X).map(me)){let d=r.provided[a.type];if(!d)continue;let y=(a.id!==void 0?d[a.id]:be(Object.values(d)))??[];for(let t of y)g.add(t)}return be(Array.from(g.values()).map(a=>{let d=r.queries[a];return d?[{queryCacheKey:a,endpointName:d.endpointName,originalArgs:d.originalArgs}]:[]}))}function D(c,o){return Object.values(c[n].queries).filter(r=>r?.endpointName===o&&r.status!=="uninitialized").map(r=>r.originalArgs)}}import{formatProdErrorMessage as Mt}from"@reduxjs/toolkit";var et=WeakMap?new WeakMap:void 0,Re=({endpointName:e,queryArgs:n})=>{let l="",R=et?.get(n);if(typeof R=="string")l=R;else{let p=JSON.stringify(n,(x,A)=>(A=typeof A=="bigint"?{$bigint:A.toString()}:A,A=V(A)?Object.keys(A).sort().reduce((M,k)=>(M[k]=A[k],M),{}):A,A));V(n)&&et?.set(n,p),l=p}return`${e}(${l})`};import{weakMapMemoize as tt}from"reselect";function Me(...e){return function(l){let R=tt(Q=>l.extractRehydrationInfo?.(Q,{reducerPath:l.reducerPath??"api"})),p={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...l,extractRehydrationInfo:R,serializeQueryArgs(Q){let D=Re;if("serializeQueryArgs"in Q.endpointDefinition){let c=Q.endpointDefinition.serializeQueryArgs;D=o=>{let r=c(o);return typeof r=="string"?r:Re({...o,queryArgs:r})}}else l.serializeQueryArgs&&(D=l.serializeQueryArgs);return D(Q)},tagTypes:[...l.tagTypes||[]]},x={endpointDefinitions:{},batch(Q){Q()},apiUid:le(),extractRehydrationInfo:R,hasRehydrationInfo:tt(Q=>R(Q)!=null)},A={injectEndpoints:k,enhanceEndpoints({addTagTypes:Q,endpoints:D}){if(Q)for(let c of Q)p.tagTypes.includes(c)||p.tagTypes.push(c);if(D)for(let[c,o]of Object.entries(D))typeof o=="function"?o(x.endpointDefinitions[c]):Object.assign(x.endpointDefinitions[c]||{},o);return A}},M=e.map(Q=>Q.init(A,p,x));function k(Q){let D=Q.endpoints({query:c=>({...c,type:"query"}),mutation:c=>({...c,type:"mutation"})});for(let[c,o]of Object.entries(D)){if(Q.overrideExisting!==!0&&c in x.endpointDefinitions){if(Q.overrideExisting==="throw")throw new Error(Mt(39));typeof process<"u";continue}x.endpointDefinitions[c]=o;for(let r of M)r.injectEndpoint(c,o)}return A}return A.injectEndpoints({endpoints:l.endpoints})}}import{formatProdErrorMessage as kt}from"@reduxjs/toolkit";var Bt=Symbol();function Pt(){return function(){throw new Error(kt(33))}}import{enablePatches as Ft}from"immer";function H(e,...n){return Object.assign(e,...n)}import{produceWithPatches as vt}from"immer";var nt=({api:e,queryThunk:n,internalState:l})=>{let R=`${e.reducerPath}/subscriptions`,p=null,x=null,{updateSubscriptionOptions:A,unsubscribeQueryResult:M}=e.internalActions,k=(r,g)=>{if(A.match(g)){let{queryCacheKey:d,requestId:y,options:t}=g.payload;return r?.[d]?.[y]&&(r[d][y]=t),!0}if(M.match(g)){let{queryCacheKey:d,requestId:y}=g.payload;return r[d]&&delete r[d][y],!0}if(e.internalActions.removeQueryResult.match(g))return delete r[g.payload.queryCacheKey],!0;if(n.pending.match(g)){let{meta:{arg:d,requestId:y}}=g,t=r[d.queryCacheKey]??={};return t[`${y}_running`]={},d.subscribe&&(t[y]=d.subscriptionOptions??t[y]??{}),!0}let a=!1;if(n.fulfilled.match(g)||n.rejected.match(g)){let d=r[g.meta.arg.queryCacheKey]||{},y=`${g.meta.requestId}_running`;a||=!!d[y],delete d[y]}if(n.rejected.match(g)){let{meta:{condition:d,arg:y,requestId:t}}=g;if(d&&y.subscribe){let m=r[y.queryCacheKey]??={};m[t]=y.subscriptionOptions??m[t]??{},a=!0}}return a},Q=()=>l.currentSubscriptions,o={getSubscriptions:Q,getSubscriptionCount:r=>{let a=Q()[r]??{};return U(a)},isRequestSubscribed:(r,g)=>!!Q()?.[r]?.[g]};return(r,g)=>{if(p||(p=JSON.parse(JSON.stringify(l.currentSubscriptions))),e.util.resetApiState.match(r))return p=l.currentSubscriptions={},x=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(r))return[!1,o];let a=k(l.currentSubscriptions,r),d=!0;if(a){x||(x=setTimeout(()=>{let m=JSON.parse(JSON.stringify(l.currentSubscriptions)),[,h]=vt(p,()=>m);g.next(e.internalActions.subscriptionsUpdated(h)),p=m,x=null},500));let y=typeof r.type=="string"&&!!r.type.startsWith(R),t=n.rejected.match(r)&&r.meta.condition&&!!r.meta.arg.subscribe;d=!y&&!t}return[d,!1]}};function Ct(e){for(let n in e)return!1;return!0}var wt=2147483647/1e3-1,rt=({reducerPath:e,api:n,queryThunk:l,context:R,internalState:p})=>{let{removeQueryResult:x,unsubscribeQueryResult:A,cacheEntriesUpserted:M}=n.internalActions,k=G(A.match,l.fulfilled,l.rejected,M.match);function Q(r){let g=p.currentSubscriptions[r];return!!g&&!Ct(g)}let D={},c=(r,g,a)=>{if(k(r)){let d=g.getState()[e],y;if(M.match(r))y=r.payload.map(t=>t.queryDescription.queryCacheKey);else{let{queryCacheKey:t}=A.match(r)?r.payload:r.meta.arg;y=[t]}for(let t of y)o(t,d.queries[t]?.endpointName,g,d.config)}if(n.util.resetApiState.match(r))for(let[d,y]of Object.entries(D))y&&clearTimeout(y),delete D[d];if(R.hasRehydrationInfo(r)){let d=g.getState()[e],{queries:y}=R.extractRehydrationInfo(r);for(let[t,m]of Object.entries(y))o(t,m?.endpointName,g,d.config)}};function o(r,g,a,d){let t=R.endpointDefinitions[g]?.keepUnusedDataFor??d.keepUnusedDataFor;if(t===1/0)return;let m=Math.max(0,Math.min(t,wt));if(!Q(r)){let h=D[r];h&&clearTimeout(h),D[r]=setTimeout(()=>{Q(r)||a.dispatch(x({queryCacheKey:r})),delete D[r]},m*1e3)}}return c};var it=new Error("Promise never resolved before cacheEntryRemoved."),ot=({api:e,reducerPath:n,context:l,queryThunk:R,mutationThunk:p,internalState:x})=>{let A=De(R),M=De(p),k=O(R,p),Q={};function D(a,d,y){let t=Q[a];t?.valueResolved&&(t.valueResolved({data:d,meta:y}),delete t.valueResolved)}function c(a){let d=Q[a];d&&(delete Q[a],d.cacheEntryRemoved())}let o=(a,d,y)=>{let t=r(a);function m(h,S,T,i){let f=y[n].queries[S],s=d.getState()[n].queries[S];!f&&s&&g(h,i,S,d,T)}if(R.pending.match(a))m(a.meta.arg.endpointName,t,a.meta.requestId,a.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(a))for(let{queryDescription:h,value:S}of a.payload){let{endpointName:T,originalArgs:i,queryCacheKey:f}=h;m(T,f,a.meta.requestId,i),D(f,S,{})}else if(p.pending.match(a))d.getState()[n].mutations[t]&&g(a.meta.arg.endpointName,a.meta.arg.originalArgs,t,d,a.meta.requestId);else if(k(a))D(t,a.payload,a.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(a)||e.internalActions.removeMutationResult.match(a))c(t);else if(e.util.resetApiState.match(a))for(let h of Object.keys(Q))c(h)};function r(a){return A(a)?a.meta.arg.queryCacheKey:M(a)?a.meta.arg.fixedCacheKey??a.meta.requestId:e.internalActions.removeQueryResult.match(a)?a.payload.queryCacheKey:e.internalActions.removeMutationResult.match(a)?Z(a.payload):""}function g(a,d,y,t,m){let h=l.endpointDefinitions[a],S=h?.onCacheEntryAdded;if(!S)return;let T={},i=new Promise(B=>{T.cacheEntryRemoved=B}),f=Promise.race([new Promise(B=>{T.valueResolved=B}),i.then(()=>{throw it})]);f.catch(()=>{}),Q[y]=T;let s=e.endpoints[a].select(h.type==="query"?d:y),u=t.dispatch((B,P,v)=>v),E={...t,getCacheEntry:()=>s(t.getState()),requestId:m,extra:u,updateCachedData:h.type==="query"?B=>t.dispatch(e.util.updateQueryData(a,d,B)):void 0,cacheDataLoaded:f,cacheEntryRemoved:i},b=S(d,E);Promise.resolve(b).catch(B=>{if(B!==it)throw B})}return o};var at=({api:e,context:{apiUid:n},reducerPath:l})=>(R,p)=>{e.util.resetApiState.match(R)&&p.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"};var st=({reducerPath:e,context:n,context:{endpointDefinitions:l},mutationThunk:R,queryThunk:p,api:x,assertTagType:A,refetchQuery:M,internalState:k})=>{let{removeQueryResult:Q}=x.internalActions,D=G(O(R),te(R)),c=G(O(R,p),ee(R,p)),o=[],r=(d,y)=>{D(d)?a(Te(d,"invalidatesTags",l,A),y):c(d)?a([],y):x.util.invalidateTags.match(d)&&a(ue(d.payload,void 0,void 0,void 0,void 0,A),y)};function g(d){for(let y in d.queries)if(d.queries[y]?.status==="pending")return!0;for(let y in d.mutations)if(d.mutations[y]?.status==="pending")return!0;return!1}function a(d,y){let t=y.getState(),m=t[e];if(o.push(...d),m.config.invalidationBehavior==="delayed"&&g(m))return;let h=o;if(o=[],h.length===0)return;let S=x.util.selectInvalidatedBy(t,h);n.batch(()=>{let T=Array.from(S.values());for(let{queryCacheKey:i}of T){let f=m.queries[i],s=k.currentSubscriptions[i]??{};f&&(U(s)===0?y.dispatch(Q({queryCacheKey:i})):f.status!=="uninitialized"&&y.dispatch(M(f)))}})}return r};var ut=({reducerPath:e,queryThunk:n,api:l,refetchQuery:R,internalState:p})=>{let x={},A=(o,r)=>{(l.internalActions.updateSubscriptionOptions.match(o)||l.internalActions.unsubscribeQueryResult.match(o))&&k(o.payload,r),(n.pending.match(o)||n.rejected.match(o)&&o.meta.condition)&&k(o.meta.arg,r),(n.fulfilled.match(o)||n.rejected.match(o)&&!o.meta.condition)&&M(o.meta.arg,r),l.util.resetApiState.match(o)&&D()};function M({queryCacheKey:o},r){let g=r.getState()[e],a=g.queries[o],d=p.currentSubscriptions[o];if(!a||a.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:t}=c(d);if(!Number.isFinite(y))return;let m=x[o];m?.timeout&&(clearTimeout(m.timeout),m.timeout=void 0);let h=Date.now()+y;x[o]={nextPollTimestamp:h,pollingInterval:y,timeout:setTimeout(()=>{(g.config.focused||!t)&&r.dispatch(R(a)),M({queryCacheKey:o},r)},y)}}function k({queryCacheKey:o},r){let a=r.getState()[e].queries[o],d=p.currentSubscriptions[o];if(!a||a.status==="uninitialized")return;let{lowestPollingInterval:y}=c(d);if(!Number.isFinite(y)){Q(o);return}let t=x[o],m=Date.now()+y;(!t||m<t.nextPollTimestamp)&&M({queryCacheKey:o},r)}function Q(o){let r=x[o];r?.timeout&&clearTimeout(r.timeout),delete x[o]}function D(){for(let o of Object.keys(x))Q(o)}function c(o={}){let r=!1,g=Number.POSITIVE_INFINITY;for(let a in o)o[a].pollingInterval&&(g=Math.min(o[a].pollingInterval,g),r=o[a].skipPollingIfUnfocused||r);return{lowestPollingInterval:g,skipPollingIfUnfocused:r}}return A};var yt=({api:e,context:n,queryThunk:l,mutationThunk:R})=>{let p=ce(l,R),x=ee(l,R),A=O(l,R),M={};return(Q,D)=>{if(p(Q)){let{requestId:c,arg:{endpointName:o,originalArgs:r}}=Q.meta,g=n.endpointDefinitions[o],a=g?.onQueryStarted;if(a){let d={},y=new Promise((S,T)=>{d.resolve=S,d.reject=T});y.catch(()=>{}),M[c]=d;let t=e.endpoints[o].select(g.type==="query"?r:c),m=D.dispatch((S,T,i)=>i),h={...D,getCacheEntry:()=>t(D.getState()),requestId:c,extra:m,updateCachedData:g.type==="query"?S=>D.dispatch(e.util.updateQueryData(o,r,S)):void 0,queryFulfilled:y};a(r,h)}}else if(A(Q)){let{requestId:c,baseQueryMeta:o}=Q.meta;M[c]?.resolve({data:Q.payload,meta:o}),delete M[c]}else if(x(Q)){let{requestId:c,rejectedWithValue:o,baseQueryMeta:r}=Q.meta;M[c]?.reject({error:Q.payload??Q.error,isUnhandledError:!o,meta:r}),delete M[c]}}};var dt=({reducerPath:e,context:n,api:l,refetchQuery:R,internalState:p})=>{let{removeQueryResult:x}=l.internalActions,A=(k,Q)=>{z.match(k)&&M(Q,"refetchOnFocus"),W.match(k)&&M(Q,"refetchOnReconnect")};function M(k,Q){let D=k.getState()[e],c=D.queries,o=p.currentSubscriptions;n.batch(()=>{for(let r of Object.keys(o)){let g=c[r],a=o[r];if(!a||!g)continue;(Object.values(a).some(y=>y[Q]===!0)||Object.values(a).every(y=>y[Q]===void 0)&&D.config[Q])&&(U(a)===0?k.dispatch(x({queryCacheKey:r})):g.status!=="uninitialized"&&k.dispatch(R(g)))}})}return A};function pt(e){let{reducerPath:n,queryThunk:l,api:R,context:p}=e,{apiUid:x}=p,A={invalidateTags:L(`${n}/invalidateTags`)},M=c=>c.type.startsWith(`${n}/`),k=[at,rt,st,ut,ot,yt];return{middleware:c=>{let o=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:D,isThisApiSliceAction:M},a=k.map(t=>t(g)),d=nt(g),y=dt(g);return t=>m=>{if(!Ce(m))return t(m);o||(o=!0,c.dispatch(R.internalActions.middlewareRegistered(x)));let h={...c,next:t},S=c.getState(),[T,i]=d(m,h,S),f;if(T?f=t(m):f=i,c.getState()[n]&&(y(m,h,S),M(m)||p.hasRehydrationInfo(m)))for(let s of a)s(m,h,S);return f}},actions:A};function D(c){return e.api.endpoints[c.endpointName].initiate(c.originalArgs,{subscribe:!1,forceRefetch:!0})}}var xe=Symbol(),ke=({createSelector:e=Pe}={})=>({name:xe,init(n,{baseQuery:l,tagTypes:R,reducerPath:p,serializeQueryArgs:x,keepUnusedDataFor:A,refetchOnMountOrArgChange:M,refetchOnFocus:k,refetchOnReconnect:Q,invalidationBehavior:D},c){Ft();let o=C=>(typeof process<"u",C);Object.assign(n,{reducerPath:p,endpoints:{},internalActions:{onOnline:W,onOffline:ie,onFocus:z,onFocusLost:re},util:{}});let{queryThunk:r,mutationThunk:g,patchQueryData:a,updateQueryData:d,upsertQueryData:y,prefetch:t,buildMatchThunkActions:m}=ze({baseQuery:l,reducerPath:p,context:c,api:n,serializeQueryArgs:x,assertTagType:o}),{reducer:h,actions:S}=Je({context:c,queryThunk:r,mutationThunk:g,serializeQueryArgs:x,reducerPath:p,assertTagType:o,config:{refetchOnFocus:k,refetchOnReconnect:Q,refetchOnMountOrArgChange:M,keepUnusedDataFor:A,reducerPath:p,invalidationBehavior:D}});H(n.util,{patchQueryData:a,updateQueryData:d,upsertQueryData:y,prefetch:t,resetApiState:S.resetApiState,upsertQueryEntries:S.cacheEntriesUpserted}),H(n.internalActions,S);let{middleware:T,actions:i}=pt({reducerPath:p,context:c,queryThunk:r,mutationThunk:g,api:n,assertTagType:o});H(n.util,i),H(n,{reducer:h,middleware:T});let{buildQuerySelector:f,buildMutationSelector:s,selectInvalidatedBy:u,selectCachedArgsForQuery:E}=Ze({serializeQueryArgs:x,reducerPath:p,createSelector:e});H(n.util,{selectInvalidatedBy:u,selectCachedArgsForQuery:E});let{buildInitiateQuery:b,buildInitiateMutation:B,getRunningMutationThunk:P,getRunningMutationsThunk:v,getRunningQueriesThunk:w,getRunningQueryThunk:_}=_e({queryThunk:r,mutationThunk:g,api:n,serializeQueryArgs:x,context:c});return H(n.util,{getRunningMutationThunk:P,getRunningMutationsThunk:v,getRunningQueryThunk:_,getRunningQueriesThunk:w}),{name:xe,injectEndpoint(C,q){let N=n;N.endpoints[C]??={},ge(q)?H(N.endpoints[C],{name:C,select:f(C,q),initiate:b(C,q)},m(r,C)):Le(q)&&H(N.endpoints[C],{name:C,select:s(),initiate:B(C)},m(g,C))}}}});var It=Me(ke());export{Se as QueryStatus,Bt as _NEVER,Me as buildCreateApi,fe as copyWithStructuralSharing,ke as coreModule,xe as coreModuleName,It as createApi,Re as defaultSerializeQueryArgs,Pt as fakeBaseQuery,gt as fetchBaseQuery,Rt as retry,xt as setupListeners,Qe as skipToken};
//# sourceMappingURL=rtk-query.browser.mjs.map